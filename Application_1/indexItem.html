<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Item Management</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container my-5">
    <h1 class="text-center mb-4">Item Management</h1>
    <div class="card p-4 mb-4">
        <h5>Add / Update Item</h5>
        <form id="itemForm">
            <div class="row g-3">
                <div class="col-md-3">
                    <label for="itemCode" class="form-label">Item Code</label>
                    <input type="text" class="form-control" id="itemCode" placeholder="Enter Item Code">
                </div>
                <div class="col-md-3">
                    <label for="itemName" class="form-label">Item Name</label>
                    <input type="text" class="form-control" id="itemName" placeholder="Enter Item Name">
                </div>
                <div class="col-md-3">
                    <label for="itemPrice" class="form-label">Item Price</label>
                    <input type="number" class="form-control" id="itemPrice" placeholder="Enter Item Price">
                </div>
                <div class="col-md-3">
                    <label for="itemQty" class="form-label">Quantity</label>
                    <input type="number" class="form-control" id="itemQty" placeholder="Enter Quantity">
                </div>
            </div>
            <div class="mt-4">
                <button type="button" class="btn btn-success me-2" id="addItemBtn">Add</button>
                <button type="button" class="btn btn-warning me-2" id="updateItemBtn">Update</button>
                <button type="button" class="btn btn-danger me-2" id="deleteItemBtn">Delete</button>
                <button type="button" class="btn btn-primary" id="loadAllItemsBtn">Load All</button>
            </div>
        </form>
    </div>

    <div class="card p-4">
        <h5>Item List</h5>
        <table class="table table-striped table-hover">
            <thead class="table-dark">
            <tr>
                <th>Item Code</th>
                <th>Item Name</th>
                <th>Price</th>
                <th>Quantity</th>
            </tr>
            </thead>
            <tbody id="itemTableBody">
            <!-- Item rows will be dynamically loaded here -->
            </tbody>
        </table>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="web/assets/js/jquery-3.7.1.min.js"></script>
<script>
   /* $(document).ready(function () {
        // Clear form fields
        const clearFields = () => {
            $('#itemCode').val('');
            $('#itemName').val('');
            $('#itemPrice').val('');
            $('#itemQty').val('');
        };

        // Load all items
        const loadAllItems = () => {
            $.ajax({
                url: "http://localhost:8080/Application_1_war_exploded/item",
                type: "GET",
                success: (response) => {
                    const tableBody = $('#itemTableBody');
                    tableBody.empty();

                    response.forEach(item => {
                        tableBody.append(`
                                <tr>
                                    <td>${item.code}</td>
                                    <td>${item.name}</td>
                                    <td>${item.price}</td>
                                    <td>${item.qty}</td>
                                </tr>
                            `);
                    });
                },
                error: (err) => {
                    console.error(err);
                }
            });
        };

        // Add item
        $('#addItemBtn').click(() => {
            const newItem = {
                code: $('#itemCode').val(),
                name: $('#itemName').val(),
                price: $('#itemPrice').val(),
                qty: $('#itemQty').val()
            };

            $.ajax({
                url: "http://localhost:8080/Application_1_war_exploded/item",
                type: "POST",
                data: JSON.stringify(newItem),
                contentType: "application/json",
                success: () => {
                    alert("Item added successfully!");
                    clearFields();
                    loadAllItems();
                },
                error: (err) => {
                    console.error(err);
                }
            });
        });

        // Update item
        $('#updateItemBtn').click(() => {
            const updatedItem = {
                code: $('#itemCode').val(),
                name: $('#itemName').val(),
                price: $('#itemPrice').val(),
                qty: $('#itemQty').val()
            };

            $.ajax({
                url: "http://localhost:8080/Application_1_war_exploded/item",
                type: "PUT",
                data: JSON.stringify(updatedItem),
                contentType: "application/json",
                success: () => {
                    alert("Item updated successfully!");
                    clearFields();
                    loadAllItems();
                },
                error: (err) => {
                    console.error(err);
                }
            });
        });

        // Delete item
        $('#deleteItemBtn').click(() => {
            const itemCode = $('#itemCode').val();

            $.ajax({
                url: `http://localhost:8080/Application_1_war_exploded/item/${itemCode}`,
                type: "DELETE",
                success: () => {
                    alert("Item deleted successfully!");
                    clearFields();
                    loadAllItems();
                },
                error: (err) => {
                    console.error(err);
                }
            });
        });

        // Load all items on page load
        loadAllItems();

        // Bind Load All button
        $('#loadAllItemsBtn').click(() => {
            loadAllItems();
        });
    });
*/
</script>
</body>
</html>
